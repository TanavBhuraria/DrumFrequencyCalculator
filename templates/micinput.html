<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Professional Drum Frequency Analyzer</title>
  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }
    
    body {
      background: linear-gradient(135deg, #1a1a2e, #16213e);
      color: #fff;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      min-height: 100vh;
      padding: 20px;
      display: flex;
      flex-direction: column;
      align-items: center;
      overflow-x: hidden;
    }
    
    .container {
      max-width: 800px;
      width: 100%;
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    
    header {
      text-align: center;
      margin-bottom: 30px;
      padding: 20px;
      width: 100%;
      position: relative;
    }
    
    h1 {
      font-size: 2.5rem;
      margin-bottom: 10px;
      background: linear-gradient(90deg, #ff7e5f, #feb47b);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      text-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
    }
    
    .back-btn {
      position: absolute;
      top: 20px;
      left: 20px;
      background: rgba(255, 255, 255, 0.1);
      color: #ff7e5f;
      border: none;
      padding: 10px 15px;
      border-radius: 50px;
      cursor: pointer;
      font-size: 0.9rem;
      transition: all 0.3s;
      display: flex;
      align-items: center;
      gap: 5px;
      z-index: 10;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
      width: auto;
      min-width: 90px;
    }
    
    .back-btn:hover {
      background: rgba(255, 126, 95, 0.2);
      transform: translateY(-2px);
    }
    
    .back-btn svg {
      width: 16px;
      height: 16px;
      fill: #ff7e5f;
    }
    
    .subtitle {
      font-size: 1.2rem;
      color: #a0a0d0;
      max-width: 600px;
      margin: 0 auto;
      margin-top: 15px;
    }
    
    .visualization {
      width: 100%;
      height: 200px;
      background: rgba(0, 0, 0, 0.3);
      border-radius: 12px;
      margin-bottom: 30px;
      position: relative;
      overflow: hidden;
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
    }
    
    .drum-display {
      position: absolute;
      bottom: 0;
      width: 100%;
      height: 100%;
      display: flex;
      justify-content: center;
      align-items: flex-end;
      gap: 10px;
      padding: 20px;
    }
    
    .drum-pad {
      width: 70px;
      height: 70px;
      background: rgba(255, 255, 255, 0.1);
      border-radius: 50%;
      display: flex;
      justify-content: center;
      align-items: center;
      font-size: 1.2rem;
      font-weight: bold;
      color: rgba(255, 255, 255, 0.7);
      transition: all 50ms ease-out;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
      cursor: pointer;
      will-change: transform, background-color;
    }
    
    .drum-pad.active {
      transform: scale(1.2);
      background: rgba(255, 126, 95, 0.8);
      box-shadow: 0 0 20px rgba(255, 126, 95, 0.7);
    }
    
    .controls {
      display: flex;
      gap: 15px;
      margin-bottom: 30px;
      flex-wrap: wrap;
      justify-content: center;
    }
    
    button {
      background: linear-gradient(135deg, #ff7e5f, #feb47b);
      color: white;
      border: none;
      padding: 14px 28px;
      font-size: 1.1rem;
      font-weight: 600;
      border-radius: 50px;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: 0 4px 15px rgba(255, 126, 95, 0.4);
      min-width: 180px;
    }
    
    button:hover {
      transform: translateY(-3px);
      box-shadow: 0 6px 20px rgba(255, 126, 95, 0.6);
    }
    
    button:disabled {
      background: #555;
      cursor: not-allowed;
      transform: none;
      box-shadow: none;
    }
    
    .stats {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 20px;
      width: 100%;
      margin-bottom: 30px;
    }
    
    .stat-card {
      background: rgba(255, 255, 255, 0.05);
      border-radius: 12px;
      padding: 25px;
      text-align: center;
      backdrop-filter: blur(10px);
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
      border: 1px solid rgba(255, 255, 255, 0.1);
    }
    
    .stat-card h2 {
      font-size: 1.3rem;
      margin-bottom: 15px;
      color: #a0a0d0;
    }
    
    .stat-value {
      font-size: 3.5rem;
      font-weight: 700;
      background: linear-gradient(90deg, #ff7e5f, #feb47b);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }
    
    .settings {
      background: rgba(255, 255, 255, 0.05);
      border-radius: 12px;
      padding: 25px;
      width: 100%;
      backdrop-filter: blur(10px);
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
      border: 1px solid rgba(255, 255, 255, 0.1);
    }
    
    .slider-container {
      margin-bottom: 20px;
    }
    
    .slider-container label {
      display: block;
      margin-bottom: 10px;
      font-size: 1.1rem;
      color: #a0a0d0;
      display: flex;
      justify-content: space-between;
    }
    
    .slider-container span {
      font-weight: bold;
      color: #ff7e5f;
    }
    
    input[type="range"] {
      width: 100%;
      height: 8px;
      border-radius: 4px;
      background: rgba(255, 255, 255, 0.1);
      outline: none;
      -webkit-appearance: none;
    }
    
    input[type="range"]::-webkit-slider-thumb {
      -webkit-appearance: none;
      width: 22px;
      height: 22px;
      border-radius: 50%;
      background: #ff7e5f;
      cursor: pointer;
      box-shadow: 0 0 10px rgba(255, 126, 95, 0.7);
    }
    
    .canvas-container {
      width: 100%;
      height: 150px;
      margin-top: 20px;
      background: rgba(0, 0, 0, 0.2);
      border-radius: 8px;
      overflow: hidden;
    }
    
    canvas {
      width: 100%;
      height: 100%;
    }
    
    .hit-indicator {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: 100;
      opacity: 0;
      transition: opacity 0.3s ease;
    }
    
    .hit-indicator.active {
      opacity: 1;
    }
    
    .harmonic-display {
      margin-top: 20px;
      background: rgba(0, 0, 0, 0.2);
      border-radius: 10px;
      padding: 15px;
      width: 100%;
    }
    
    .harmonic-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 15px;
      cursor: pointer;
      padding: 8px 12px;
      border-radius: 8px;
      background: rgba(255, 255, 255, 0.05);
    }
    
    .harmonic-header:hover {
      background: rgba(255, 255, 255, 0.1);
    }
    
    .harmonic-content {
      display: none;
      padding: 10px;
      background: rgba(0, 0, 0, 0.3);
      border-radius: 8px;
    }
    
    .harmonic-content.show {
      display: block;
    }
    
    .harmonic-list {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
      gap: 10px;
    }
    
    .harmonic-item {
      background: rgba(255, 255, 255, 0.05);
      padding: 10px;
      border-radius: 8px;
      text-align: center;
      transition: transform 0.2s;
    }
    
    .harmonic-item:hover {
      transform: translateY(-3px);
      background: rgba(255, 255, 255, 0.1);
    }
    
    .harmonic-label {
      font-size: 0.9rem;
      color: #a0a0d0;
      margin-bottom: 5px;
    }
    
    .harmonic-value {
      font-size: 1.2rem;
      font-weight: bold;
      color: #ff7e5f;
    }
    
    .drum-info {
      background: rgba(0, 0, 0, 0.2);
      border-radius: 10px;
      padding: 15px;
      margin-top: 20px;
      width: 100%;
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    
    .drum-info-title {
      font-size: 1.2rem;
      margin-bottom: 10px;
      color: #ff7e5f;
    }
    
    .drum-info-text {
      text-align: center;
      color: #a0a0d0;
      line-height: 1.6;
      max-width: 600px;
    }
    
    footer {
      margin-top: 40px;
      text-align: center;
      color: #777;
      font-size: 0.9rem;
      padding: 20px;
    }
    
    .debug-panel {
      background: rgba(0, 0, 0, 0.7);
      color: #fff;
      padding: 15px;
      border-radius: 8px;
      margin-bottom: 20px;
      width: 100%;
      font-family: monospace;
    }
    
    .debug-row {
      display: flex;
      justify-content: space-between;
      margin-bottom: 5px;
    }
    
    .debug-label {
      color: #a0a0d0;
    }
    
    .debug-value {
      font-weight: bold;
    }
    
    .status-indicator {
      display: inline-block;
      width: 12px;
      height: 12px;
      border-radius: 50%;
      margin-right: 8px;
    }
    
    .status-active {
      background-color: #4caf50;
    }
    
    .status-inactive {
      background-color: #f44336;
    }
    
    .chart-container {
      width: 100%;
      height: 150px;
      background: rgba(0, 0, 0, 0.2);
      border-radius: 8px;
      overflow: hidden;
      margin-top: 20px;
    }
    
    .confidence-bar {
      height: 6px;
      background: rgba(255, 255, 255, 0.1);
      border-radius: 3px;
      margin-top: 10px;
      overflow: hidden;
    }
    
    .confidence-level {
      height: 100%;
      background: linear-gradient(90deg, #f44336, #4caf50);
      border-radius: 3px;
      transition: width 0.3s ease;
    }
    
    .confidence-label {
      display: flex;
      justify-content: space-between;
      margin-top: 5px;
      font-size: 0.8rem;
      color: #a0a0d0;
    }
    
    .tools-row {
      display: flex;
      gap: 15px;
      margin-top: 20px;
      flex-wrap: wrap;
    }
    
    .tool-btn {
      background: rgba(255, 255, 255, 0.05);
      color: #a0a0d0;
      border: none;
      padding: 8px 15px;
      border-radius: 20px;
      cursor: pointer;
      font-size: 0.9rem;
      transition: all 0.3s;
    }
    
    .tool-btn:hover {
      background: rgba(255, 255, 255, 0.1);
      color: #fff;
    }
    
    .tool-btn.active {
      background: rgba(255, 126, 95, 0.2);
      color: #ff7e5f;
    }
    
    .spectrum-display {
      margin-top: 20px;
      height: 120px;
      background: rgba(0, 0, 0, 0.2);
      border-radius: 8px;
      padding: 10px;
      display: flex;
      align-items: flex-end;
      justify-content: space-around;
      gap: 2px;
    }
    
    .spectrum-bar {
      flex: 1;
      background: linear-gradient(to top, #ff7e5f, #feb47b);
      border-radius: 3px 3px 0 0;
      min-width: 3px;
      transition: height 0.1s;
    }
    
    .frequency-range {
      display: flex;
      justify-content: space-between;
      margin-top: 10px;
      color: #a0a0d0;
      font-size: 0.85rem;
    }

    .info-box {
      background: rgba(255, 126, 95, 0.1);
      border: 1px solid rgba(255, 126, 95, 0.3);
      border-radius: 8px;
      padding: 15px;
      margin: 15px 0;
      font-size: 0.9rem;
    }
    
    .info-title {
      color: #ff7e5f;
      font-weight: bold;
      margin-bottom: 5px;
    }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <button class="back-btn">
        <svg viewBox="0 0 24 24">
          <path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"/>
        </svg>
        Back
      </button>
      <h1>Professional Drum Frequency Analyzer</h1>
      <p class="subtitle">Accurate frequency analysis for drum tuning and sound engineering</p>
    </header>

    <div class="debug-panel">
      <div class="debug-row">
        <div class="debug-label">Status:</div>
        <div class="debug-value"><span class="status-indicator status-active"></span> Ready</div>
      </div>
      <div class="debug-row">
        <div class="debug-label">FFT Size:</div>
        <div class="debug-value" id="fftSize">8192</div>
      </div>
      <div class="debug-row">
        <div class="debug-label">Sensitivity:</div>
        <div class="debug-value" id="sensitivity">High</div>
      </div>
      <div class="debug-row">
        <div class="debug-label">Min Frequency:</div>
        <div class="debug-value" id="minFreq">20 Hz</div>
      </div>
    </div>

    <div class="visualization">
      <canvas id="spectrumCanvas"></canvas>
    </div>

    <div class="controls">
      <button id="startBtn">Start Analysis</button>
      <button id="stopBtn" disabled>Stop Analysis</button>
    </div>

    <div class="stats">
      <div class="stat-card">
        <h2>Fundamental Frequency</h2>
        <div class="stat-value" id="fundamentalFreq">-- Hz</div>
      </div>
      <div class="stat-card">
        <h2>Peak Amplitude</h2>
        <div class="stat-value" id="peakAmplitude">-- dB</div>
      </div>
      <div class="stat-card">
        <h2>Signal Confidence</h2>
        <div class="confidence-bar">
          <div class="confidence-level" style="width: 0%"></div>
        </div>
        <div class="confidence-label">
          <span>Low</span>
          <span id="confidenceValue">0%</span>
          <span>High</span>
        </div>
      </div>
    </div>

    <div class="info-box">
      <div class="info-title">Low Frequency Fix Applied</div>
      <p>We've implemented parabolic interpolation with noise compensation to accurately detect low frequencies down to 20Hz.</p>
    </div>

    <div class="harmonic-display">
      <div class="harmonic-header" id="harmonicToggle">
        <h2>Harmonic Analysis</h2>
        <span>▼</span>
      </div>
      <div class="harmonic-content" id="harmonicContent">
        <div class="harmonic-list">
          <div class="harmonic-item">
            <div class="harmonic-label">1st Harmonic</div>
            <div class="harmonic-value" id="harmonic1">-- Hz</div>
          </div>
          <div class="harmonic-item">
            <div class="harmonic-label">2nd Harmonic</div>
            <div class="harmonic-value" id="harmonic2">-- Hz</div>
          </div>
          <div class="harmonic-item">
            <div class="harmonic-label">3rd Harmonic</div>
            <div class="harmonic-value" id="harmonic3">-- Hz</div>
          </div>
          <div class="harmonic-item">
            <div class="harmonic-label">4th Harmonic</div>
            <div class="harmonic-value" id="harmonic4">-- Hz</div>
          </div>
        </div>
      </div>
    </div>

    <div class="spectrum-display" id="spectrumDisplay">
      <!-- Spectrum bars will be generated by JS -->
    </div>
    <div class="frequency-range">
      <span>20 Hz</span>
      <span>200 Hz</span>
      <span>2 kHz</span>
      <span>20 kHz</span>
    </div>

    <div class="drum-info">
      <div class="drum-info-title">Drum Tuning Tips</div>
      <div class="drum-info-text">
        For kick drums, aim for 60-80Hz fundamental. Snares sound best between 180-220Hz. Toms range from 80-200Hz depending on size.
      </div>
    </div>

    <div class="tools-row">
      <button class="tool-btn active">Precision Mode</button>
      <button class="tool-btn">Low Boost</button>
      <button class="tool-btn">Save Snapshot</button>
    </div>

    <footer>
      Professional Drum Frequency Analyzer v2.1 | Low Frequency Fix Applied
    </footer>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      // Audio analysis elements
      const startBtn = document.getElementById('startBtn');
      const stopBtn = document.getElementById('stopBtn');
      const fundamentalFreqEl = document.getElementById('fundamentalFreq');
      const peakAmplitudeEl = document.getElementById('peakAmplitude');
      const confidenceValueEl = document.getElementById('confidenceValue');
      const confidenceLevelEl = document.querySelector('.confidence-level');
      const spectrumDisplay = document.getElementById('spectrumDisplay');
      const spectrumCanvas = document.getElementById('spectrumCanvas');
      const canvasCtx = spectrumCanvas.getContext('2d');
      
      // Harmonic elements
      const harmonicToggle = document.getElementById('harmonicToggle');
      const harmonicContent = document.getElementById('harmonicContent');
      const harmonicEls = {
        1: document.getElementById('harmonic1'),
        2: document.getElementById('harmonic2'),
        3: document.getElementById('harmonic3'),
        4: document.getElementById('harmonic4')
      };
      
      // Audio variables
      let audioContext;
      let analyser;
      let microphone;
      let isRecording = false;
      let animationId;
      
      // Initialize spectrum bars
      function initSpectrumBars() {
        spectrumDisplay.innerHTML = '';
        for (let i = 0; i < 64; i++) {
          const bar = document.createElement('div');
          bar.className = 'spectrum-bar';
          bar.style.height = '5px';
          spectrumDisplay.appendChild(bar);
        }
      }
      
      // Toggle harmonic display
      harmonicToggle.addEventListener('click', () => {
        harmonicContent.classList.toggle('show');
        harmonicToggle.querySelector('span').textContent = 
          harmonicContent.classList.contains('show') ? '▲' : '▼';
      });
      
      // Start audio analysis
      startBtn.addEventListener('click', async () => {
        if (isRecording) return;
        
        try {
          // Initialize audio context
          audioContext = new (window.AudioContext || window.webkitAudioContext)();
          
          // Create analyser with larger FFT for better low frequency resolution
          analyser = audioContext.createAnalyser();
          analyser.fftSize = 8192; // Increased for low frequency accuracy
          analyser.minDecibels = -90;
          analyser.maxDecibels = -20;
          analyser.smoothingTimeConstant = 0.7;
          
          // Get microphone access
          const stream = await navigator.mediaDevices.getUserMedia({ audio: true });
          microphone = audioContext.createMediaStreamSource(stream);
          microphone.connect(analyser);
          
          // Set canvas dimensions
          spectrumCanvas.width = spectrumCanvas.offsetWidth;
          spectrumCanvas.height = spectrumCanvas.offsetHeight;
          
          isRecording = true;
          startBtn.disabled = true;
          stopBtn.disabled = false;
          
          // Initialize spectrum bars
          initSpectrumBars();
          

          // NEW: Frequency analysis with harmonic validation
function analyzeFundamentalFrequency(dataArray, sampleRate, fftSize) {
  const bufferLength = dataArray.length;
  const frequencyResolution = sampleRate / fftSize;
  
  // 1. Find the 5 strongest peaks in low frequency range (20-300Hz)
  const lowFreqMaxBin = Math.floor(300 / frequencyResolution);
  const peaks = [];
  
  for (let i = 2; i < lowFreqMaxBin; i++) {
    if (dataArray[i] > dataArray[i-1] && dataArray[i] > dataArray[i+1]) {
      peaks.push({
        bin: i,
        value: dataArray[i],
        freq: i * frequencyResolution
      });
    }
  }
  
  // Sort by amplitude and take top 5
  peaks.sort((a, b) => b.value - a.value).splice(5);
  
  // 2. Validate peaks by checking for harmonics
  const validatedPeaks = peaks.map(peak => {
    let harmonicScore = 0;
    
    // Check for harmonics (2x, 3x, 4x frequency)
    for (let h = 2; h <= 4; h++) {
      const harmonicFreq = peak.freq * h;
      const harmonicBin = Math.round(harmonicFreq / frequencyResolution);
      
      if (harmonicBin < bufferLength && dataArray[harmonicBin] > peak.value * 0.3) {
        harmonicScore++;
      }
    }
    
    return {
      ...peak,
      harmonicScore,
      confidence: peak.value * (1 + harmonicScore * 0.2) // Boost confidence for harmonic matches
    };
  });
          
          // 3. Select the peak with highest confidence that has at least one harmonic
          validatedPeaks.sort((a, b) => b.confidence - a.confidence);
          const bestPeak = validatedPeaks.find(p => p.harmonicScore > 0) || validatedPeaks[0];
          
          // 4. Apply parabolic interpolation for precise frequency
          if (bestPeak.bin > 0 && bestPeak.bin < bufferLength - 1) {
            const prev = dataArray[bestPeak.bin - 1];
            const next = dataArray[bestPeak.bin + 1];
            const delta = (next - prev) / (2 * (2 * bestPeak.value - prev - next));
            bestPeak.freq = (bestPeak.bin + delta) * frequencyResolution;
          }
          
          return {
            frequency: bestPeak.freq,
            confidence: Math.min(100, Math.round(bestPeak.confidence / 2.55))
          };
        }
          // Start visualization loop
          visualize();
        } catch (err) {
          console.error('Error accessing microphone:', err);
          alert('Could not access microphone. Please check permissions.');
        }
      });
      
      // Stop audio analysis
      stopBtn.addEventListener('click', () => {
        if (!isRecording) return;
        
        isRecording = false;
        if (microphone) {
          microphone.disconnect();
          const tracks = microphone.mediaStream.getTracks();
          tracks.forEach(track => track.stop());
          microphone = null;
        }
        if (audioContext) {
          audioContext.close().then(() => {
            audioContext = null;
          });
        }
        startBtn.disabled = false;
        stopBtn.disabled = true;
        
        // Stop animation
        cancelAnimationFrame(animationId);
      });
      
      // Visualize audio data
      function visualize() {
        if (!isRecording) return;
        
        animationId = requestAnimationFrame(visualize);
        
        // Get frequency data
        const bufferLength = analyser.frequencyBinCount;
        const dataArray = new Uint8Array(bufferLength);
        analyser.getByteFrequencyData(dataArray);
        
        // Clear canvas
        canvasCtx.clearRect(0, 0, spectrumCanvas.width, spectrumCanvas.height);
        
        // Draw frequency spectrum
        const barWidth = (spectrumCanvas.width / bufferLength) * 2.5;
        let barHeight;
        let x = 0;
        
        // Advanced frequency analysis with harmonic validation
        const analysis = analyzeFundamentalFrequency(dataArray, audioContext.sampleRate, analyser.fftSize);
        const fundamentalFrequency = analysis.frequency;
        const confidence = analysis.confidence;
          
        fundamentalFreqEl.textContent = fundamentalFrequency.toFixed(1) + ' Hz';
        peakAmplitudeEl.textContent = Math.round(analysis.confidence * 2.55) + ' dB';
        confidenceValueEl.textContent = confidence + '%';
        confidenceLevelEl.style.width = confidence + '%';
          
        // Update harmonic displays
        for (let i = 1; i <= 4; i++) {
          harmonicEls[i].textContent = (fundamentalFrequency * (i + 1)).toFixed(1) + ' Hz';
        }
        
        // Update spectrum bars
        const spectrumBars = spectrumDisplay.querySelectorAll('.spectrum-bar');
        const fundamentalBin = Math.floor(fundamentalFrequency / (audioContext.sampleRate / analyser.fftSize));
        
        for (let i = 0; i < spectrumBars.length; i++) {
          // Logarithmic scaling for better low-frequency representation
          const bin = Math.floor(Math.pow(i / spectrumBars.length, 2) * bufferLength);
          const value = dataArray[bin] || 0;
          const height = Math.max(5, value / 255 * 100);
          spectrumBars[i].style.height = height + 'px';
          
          // Highlight fundamental frequency
          if (bin === fundamentalBin) {
            spectrumBars[i].style.background = 'linear-gradient(to top, #4caf50, #8bc34a)';
          } else {
            spectrumBars[i].style.background = 'linear-gradient(to top, #ff7e5f, #feb47b)';
          }
        }
        
        // Draw waveform on canvas
        for (let i = 0; i < bufferLength; i++) {
          barHeight = (dataArray[i] / 255) * spectrumCanvas.height;
          
          // Highlight low frequencies
          const isLowFreq = i < bufferLength / 4;
          canvasCtx.fillStyle = isLowFreq ? 
            `rgba(255, 126, 95, ${dataArray[i] / 255})` : 
            `rgba(254, 180, 123, ${dataArray[i] / 255})`;
          
          canvasCtx.fillRect(x, spectrumCanvas.height - barHeight, barWidth, barHeight);
          x += barWidth + 1;
        }
      }
      
      // Simulate drum hits for demo
      setInterval(() => {
        if (!isRecording) return;
        
        // Randomly trigger drum pad visualization
        const pads = document.querySelectorAll('.drum-pad');
        const randomPad = pads[Math.floor(Math.random() * pads.length)];
        
        randomPad.classList.add('active');
        setTimeout(() => {
          randomPad.classList.remove('active');
        }, 150);
      }, 1500);
      
      // Initialize drum pads
      const drumNames = ['Kick', 'Snare', 'Hi-Hat', 'Tom 1', 'Tom 2', 'Floor Tom', 'Ride', 'Crash'];
      const drumDisplay = document.querySelector('.drum-display');
      
      drumNames.forEach(name => {
        const pad = document.createElement('div');
        pad.className = 'drum-pad';
        pad.textContent = name;
        drumDisplay.appendChild(pad);
      });
    });
  </script>
</body>
</html>